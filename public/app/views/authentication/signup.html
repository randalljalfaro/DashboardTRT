<div>
	<h2 class="page-header">Registro de usuarios</h2>

	<div ng-repeat="error in errors" class="alert alert-danger">
		{{error.msg}}
	</div>
	<br>

	<form ng-submit="signup.signup()" method="post">
		<div class="form-group">
			<label>Nombre completo</label><br>
			<input type="text" class="form-control" placeholder="Nombre completo" name="name" ng-model="signup.complete_name">
		</div>
		<div class="form-group">
			<label>Nombre de usuario</label><br>
			<input type="text" class="form-control" placeholder="Nombre de usuario" name="username" ng-model="signup.username">
		</div>
		<div class="form-group">
			<label>Correo electrónico</label><br>
			<input type="email" class="form-control" placeholder="Correo electrónico" name="email" ng-model="signup.email">
		</div>
		<div class="form-group">
			<label>Roles</label><br>
			<div>
				<div>
					<input type="checkbox" name="roles" value="admin" ng-model="signup.roles['admin']">Administrador del módulo</input>
				</div>
				<div ng-if="!signup.roles[permission.name]['admin']" ng-repeat="permission in permissions">
					<input type="checkbox" name="roles" value="permission.name" ng-model="selectedPermissions[permission.name]">{{permission.label}}</input>
					<br>
					<div ng-if="selectedPermissions[permission.name] && permission.divided_by!=null" class="rounded">
						<div ng-repeat="prop in properties" >
							<input type="checkbox" ng-model="signup.roles[permission.name][prop._id]">{{prop.name}}</input>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="form-group">
			<label>Contraseña</label><br>
			<input type="password" class="form-control" placeholder="Contraseña" name="password" ng-model="signup.password">
		</div>
		<div class="form-group">
			<label>Confirmar contraseña</label><br>
			<input type="password" class="form-control" placeholder="Contraseña" name="password2" ng-model="signup.password2">
		</div>
		<button type="submit" class="btn btn-default">Registrarse</button>
	</form>
</div>

