<div>
	<div ng-repeat="error in errors" class="alert alert-danger">
		{{error.msg}}
	</div>
	<div ng-repeat="error in errors" class="alert alert-danger">
		{{error.msg}}
	</div>
	<br>
	<div class="full" >
		<!--filter-properties section-type={{sectionType}}></filter-properties-->
		<properties-filter-by-month></properties-filter-by-month>
	</div>

	<div>
		<div class="table-responsive table-striped  table-hover full well">
			<div class="full text-center"  ng-if="!data_length || data_length==0">
				<h2>No hay datos para el criterio establecido.</h2>
			</div>

			<div class="well" ng-if="data_length && data_length > 0">
				<div>
					<b>Total de cuartos: </b>
					<label>{{tableData.totals.bedroom_count}}</label>
				</div>
				<div>
					<b>Total del monto: </b>
					<label>${{tableData.totals.amount}}</label>
				</div>
			</div>
			<table  ng-if="data_length && data_length > 0" class="table well">
				<thead>
					<tr>
						<th>Año</th>
						<th class="text-center"># de cuartos</th>
						<th class="text-center">Facturación ($)</th>
						<th ng-if="editable">Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="(year, yearData) in tableData.years">
						<td>
							<div class="">
								{{year}}
								<div>
									<label>
										<b>Total de cuartos: </b>{{tableData.years[year].totals['bedroom_count']}}
									</label>
								</div>
								<div>
									<label>
										<b>Total facturación: </b>${{tableData.years[year].totals['amount']}}
									</label>
								</div>
							</div>
						</td>
						<td>
							<div ng-repeat="month in months">
								<div class="half">
									<label>{{months[$index]}}</label>
								</div>
								<div class="half">
									<input class="text-center" type="text" name="" 
									ng-model="tableData.years[year].months[$index]['bedroom_count']"
									ng-readonly="!editing[year]">
								</div>
							</div>
						</td>
						<td>
							<div ng-repeat="month in months">
								<div class="half">
									<label>{{months[$index]}}</label>
								</div>
								<div class="half">
									<input class="text-center" type="text" name="" 
									ng-model="tableData.years[year].months[$index]['amount']"
									ng-readonly="!editing[year]">
								</div>
							</div>
						</td>
						
						<td ng-if="editable">
							<div ng-if="data_length && data_length > 1">
								Edición habilitada solo para un canal
							</div>
							<div ng-if="data_length && data_length== 1">
								<div ng-if="!editing[year]" >
									<button ng-click='onEditClick(year)' class="btn btn-info btn-lg btn-actions">
										<span class="glyphicon glyphicon-edit"></span> Editar
									</button>
								</div>
								<div ng-if="editing[year]" >
									<button ng-click='onSaveClick(year)' class="btn btn-success btn-lg btn-actions">
										<span class="glyphicon glyphicon-edit"></span> Guardar
									</button>
								</div>
							</div>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>


<!--div>
		<div class="table-responsive table-striped  table-hover full well">
			<div class="full text-center"  ng-if="!property_data || property_data.length==0">
				<h2>No hay datos para el criterio establecido.</h2>
			</div>
			<table  ng-if="property_data && property_data.length>0" class="table">
				<thead>
					<tr>
						<th>Año</th>
						<th>Mes</th>
						<th># de cuartos</th>
						<th>Facturación ($)</th>
						<th ng-if="editable">Acciones</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="year_data in property_data">
						<td>
							<div class="">
								{{year_data._id.year}}
								<div>
									<label>
										<b>Total de cuartos: </b>{{totals.bedroom_count[year_data._id.year]}}
									</label>
								</div>
								<div>
									<label>
										<b>Total facturación: </b>${{totals.amount[year_data._id.year]}}
									</label>
								</div>
							</div>
						</td>
						<td>
							<div ng-repeat="month in months">
								{{months[$index]}}
							</div>
						</td>
						<td>
							<div ng-repeat="month in months">
								{{getMonthData(year_data._id.year, $index).bedroom_count}}
							</div>
						</td>
						<td>
							<div ng-repeat="month in months">
								${{getMonthData(year_data._id.year, $index).amount}}
							</div>
						</td>
						<td ng-if="editable">
							<button class="btn btn-info btn-lg btn-actions">
								<span class="glyphicon glyphicon-edit"></span> Editar
							</button>
							<br>
							<br>
							<button ng-click='actions.delete(user._id, callbacks.delete.success, callbacks.delete.error)' class="btn btn-danger btn-lg btn-actions">
								<span class="glyphicon glyphicon-remove-sign"></span> Eliminar
							</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div ng-if="property_data && property_data.length>0">
			<div>
				<label class="btn btn-info">Total de cuartos</label>
				<label>{{totals.bedroom_count.total}}</label>
			</div>
			<div>
				<label class="btn btn-info">Total del monto</label>
				<label>${{totals.amount.total}}</label>
			</div>
		</div>
	</div-->